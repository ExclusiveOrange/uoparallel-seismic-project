////////////////////////////////////////////////////////////////////////////////
// parseargs.h - 2016.05.31 - Atlee Brink
////////////////////////////////////////////////////////////////////////////////

#pragma once


////////////////////////////////////////////////////////////////////////////////
// includes
////////////////////////////////////////////////////////////////////////////////

#include <stdio.h>


////////////////////////////////////////////////////////////////////////////////
// structures
////////////////////////////////////////////////////////////////////////////////

struct ARGS {
  const char *velocityfilename;
  const char *startpointsfilename;
  const char *traveltimefilename;
};


////////////////////////////////////////////////////////////////////////////////
// functions
////////////////////////////////////////////////////////////////////////////////

int
parseargs (
  struct ARGS *args,
  int argc,
  char *argv[]
)
// parses command line arguments and stores them in 'args'
// error: returns 0
// success: returns non-0
{
  // check arguments
  if( argc != 4 ) {
    printf (
      "usage: %s <in:velocities.vbox> <in:startpoints.txt> <out:traveltime.ttbox>\n",
      argv[0]
    );
    return 0;
  }

  // filenames
  args->velocityfilename = argv[1];
  args->startpointsfilename = argv[2];
  args->traveltimefilename = argv[3];

  // echo filenames to user
  puts( "input:" );
  printf( "  velocity file: %s\n", args->velocityfilename );
  printf( "  startpoints file: %s\n", args->startpointsfilename );
  puts( "output:" );
  printf( "  traveltime file: %s\n", args->traveltimefilename );

  // success
  return 1;
}


////////////////////////////////////////////////////////////////////////////////
// END
////////////////////////////////////////////////////////////////////////////////
